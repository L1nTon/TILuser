<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Educational Center</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#eef4ff',
              100: '#d9e5ff',
              200: '#b4cbff',
              400: '#5a8cff',
              500: '#3b7bff',
              600: '#1f5fe0',
            },
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      },
    }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="./style.css" />
</head>
<body class="bg-white text-slate-900">
  <div id="loader" class="fixed inset-0 z-50 hidden items-center justify-center bg-white/90 backdrop-blur">
    <div class="loader">
      <div></div><div></div><div></div>
    </div>
  </div>

  <div class="main">

    <div class="container">
      <h1><span>TIL</span><span>USER</span></h1>
    </div>

    <div class="subheader">
        <p class="subheader-title">Lorem ipsum dolor sit amet.</p>
        <p class="subheader-content">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptatibus repellat, aliquid quod commodi nisi maiores, eligendi placeat, voluptatum quasi voluptas quae dolorem tempore a recusandae cum! Reiciendis ipsum necessitatibus similique a repellat, laborum cupiditate? Repellat.</p>
    </div>

    <canvas id="canvas"></canvas>
  </div>

  <header class="sticky top-0 z-20 backdrop-blur bg-white/80 border-b border-slate-100">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between gap-4">
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-primary-500 text-white grid place-items-center font-bold shadow-lg">EC</div>
        <div>
          <div class="text-sm text-slate-500">Educational Center</div>
          <div class="font-semibold text-slate-900" data-i18n="hero_tagline">Учись. Расти. Побеждай.</div>
        </div>
      </div>
      <nav class="hidden md:flex items-center gap-6 text-sm text-slate-700">
        <a href="#courses" class="hover:text-primary-600" data-i18n="nav_courses">Курсы</a>
        <a href="#track" class="hover:text-primary-600" data-i18n="nav_track">Трек</a>
        <a href="#blog" class="hover:text-primary-600" data-i18n="nav_blog">Блог</a>
        <a href="#contacts" class="hover:text-primary-600" data-i18n="nav_contacts">Контакты</a>
      </nav>
      <div class="flex items-center gap-2">
        <div class="hidden sm:flex bg-slate-100 rounded-full p-1">
          <button class="chip px-3 py-1 active" data-lang="ru">RU</button>
          <button class="chip px-3 py-1" data-lang="uz">UZ</button>
          <button class="chip px-3 py-1" data-lang="en">EN</button>
          <button class="chip px-3 py-1" data-lang="ja">JA</button>
        </div>
        <a href="#apply" class="btn-primary" data-i18n="cta_apply">Оставить заявку</a>
        <button id="menu-toggle" class="md:hidden burger" aria-label="Menu">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>
  </header>

  <div id="mobile-overlay" class="mobile-overlay hidden"></div>
  <div id="mobile-menu" class="mobile-menu hidden">
    <div class="flex items-center gap-3 mb-4">
      <div class="h-10 w-10 rounded-xl bg-primary-500 text-white grid place-items-center font-bold shadow-lg">EC</div>
      <div>
        <div class="text-sm text-slate-500">Educational Center</div>
        <div class="font-semibold text-slate-900" data-i18n="hero_tagline">Учись. Расти. Побеждай.</div>
      </div>
    </div>
    <div class="flex flex-wrap gap-2 mb-4">
      <button class="chip px-3 py-1 active" data-lang="ru">RU</button>
      <button class="chip px-3 py-1" data-lang="uz">UZ</button>
      <button class="chip px-3 py-1" data-lang="en">EN</button>
      <button class="chip px-3 py-1" data-lang="ja">JA</button>
    </div>
    <nav class="flex flex-col gap-3 text-sm text-slate-700">
      <a href="#courses" class="nav-mobile" data-i18n="nav_courses">Курсы</a>
      <a href="#track" class="nav-mobile" data-i18n="nav_track">Трек</a>
      <a href="#blog" class="nav-mobile" data-i18n="nav_blog">Блог</a>
      <a href="#contacts" class="nav-mobile" data-i18n="nav_contacts">Контакты</a>
    </nav>
    <a href="#apply" class="btn-primary w-full mt-4" data-i18n="cta_apply">Оставить заявку</a>
  </div>

  <main id="app" class="relative overflow-hidden">
    <div class="hero-blob hero-blob-1"></div>
    <div class="hero-blob hero-blob-2"></div>

    <section class="section" id="hero">
      <div class="max-w-6xl mx-auto px-4 grid lg:grid-cols-2 gap-10 items-center">
        <div class="space-y-6 reveal">
          <p class="text-primary-600 font-semibold text-sm uppercase tracking-wide" data-i18n="hero_lead">Технологии. Языки. Карьера.</p>
          <h1 class="text-4xl lg:text-5xl font-bold leading-tight" data-i18n="hero_title">Премиальное обучение с реальным результатом</h1>
          <p class="text-lg text-slate-700" data-i18n="hero_subtitle">Интенсивные курсы, индивидуальный трек развития и поддержка менторов 24/7. Учись там, где ценят время.</p>
          <div class="flex flex-wrap gap-3">
            <a href="#courses" class="btn-primary" data-i18n="btn_choose">Выбрать курс</a>
            <a href="#track" class="btn-ghost" data-i18n="btn_how">Как мы учим</a>
          </div>
          <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm text-slate-700 reveal">
            <div class="stat-card"><div class="text-2xl font-bold text-primary-600">4</div><div data-i18n="stat_langs">Языка обучения</div></div>
            <div class="stat-card"><div class="text-2xl font-bold text-primary-600">90%</div><div data-i18n="stat_hw">Проверка ДЗ</div></div>
            <div class="stat-card"><div class="text-2xl font-bold text-primary-600">24/7</div><div data-i18n="stat_support">Поддержка</div></div>
          </div>
        </div>
        <!-- <div class="relative reveal">
          <div class="glass p-6 rounded-3xl shadow-xl space-y-4">
            <div class="flex items-center gap-3">
              <div class="pill pill-primary">Live</div>
              <div class="text-sm text-slate-600" data-i18n="stat_live">Обновление данных с сервера</div>
            </div>
            <div id="dashboard-cards" class="grid grid-cols-2 gap-3 text-sm text-slate-700"></div>
            <div class="text-xs text-slate-400">Все данные загружаются из API.</div>
          </div>
        </div> -->
      </div>
    </section>

    <section class="section" id="courses">
      <div class="max-w-6xl mx-auto px-4">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8 reveal">
          <div>
            <h2 class="section-title" data-i18n="section_courses">Курсы</h2>
            <p class="section-subtitle" data-i18n="section_courses_sub">Актуальные направления с живыми менторами.</p>
          </div>
        </div>
        <div id="courses-list" class="grid md:grid-cols-3 gap-4"></div>
      </div>
    </section>

    <section class="section bg-slate-50" id="track">
      <div class="max-w-6xl mx-auto px-4 space-y-6">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 reveal">
          <div>
            <h2 class="section-title" data-i18n="section_track">Трек развития</h2>
            <p class="section-subtitle" data-i18n="section_track_sub">Пошаговый план до результата.</p>
          </div>
        </div>
        <div id="track-list" class="grid md:grid-cols-3 gap-4"></div>
      </div>
    </section>

    <section class="section" id="reviews">
      <div class="max-w-6xl mx-auto px-4 space-y-6">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 reveal">
          <div>
            <h2 class="section-title" data-i18n="section_reviews">Отзывы</h2>
            <p class="section-subtitle" data-i18n="section_reviews_sub">Результаты студентов и партнёров.</p>
          </div>
        </div>
        <div id="reviews-list" class="grid md:grid-cols-3 gap-4"></div>
      </div>
    </section>

    <section class="section bg-slate-50" id="blog">
      <div class="max-w-6xl mx-auto px-4 space-y-6">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 reveal">
          <div>
            <h2 class="section-title" data-i18n="section_blog">Блог</h2>
            <p class="section-subtitle" data-i18n="section_blog_sub">Полезные материалы и новости.</p>
          </div>
        </div>
        <div id="blog-list" class="grid md:grid-cols-3 gap-4"></div>
      </div>
    </section>

    <section class="section" id="partners">
      <div class="max-w-6xl mx-auto px-4 space-y-6">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 reveal">
          <div>
            <h2 class="section-title">Партнёры</h2>
            <p class="section-subtitle">Нам доверяют крупные компании</p>
          </div>
        </div>
        <div class="partners-carousel glass">
          <div class="partners-track" id="partners-track"></div>
          <div class="partners-track secondary" id="partners-track2"></div>
        </div>
      </div>
    </section>

    <section class="section" id="contacts">
      <div class="max-w-6xl mx-auto px-4 grid lg:grid-cols-2 gap-10">
        <div class="reveal">
          <h2 class="section-title" data-i18n="section_contacts">Контакты</h2>
          <p class="section-subtitle mb-6" data-i18n="section_contacts_sub">Мы всегда на связи.</p>
          <div id="contacts-card" class="glass p-6 rounded-2xl space-y-3 text-slate-700 text-sm"></div>
        </div>
        <div id="apply" class="glass rounded-3xl p-6 reveal">
          <div class="flex items-center justify-between mb-4">
            <div>
              <div class="text-sm text-primary-600 font-semibold" data-i18n="form_title">Оставьте заявку</div>
              <h3 class="text-2xl font-bold text-dark" data-i18n="form_subtitle">Свяжемся за 10 минут</h3>
            </div>
            <div class="h-12 w-12 rounded-2xl bg-primary-500/10 text-primary-600 grid place-items-center font-bold">TG</div>
          </div>
          <form id="application-form" class="space-y-4">
            <div>
              <label class="block text-sm font-semibold text-dark mb-1" data-i18n="form_name">Имя</label>
              <input name="name" required class="input" placeholder="Ваше имя" data-i18n-placeholder="ph_name" />
            </div>
            <div>
              <label class="block text-sm font-semibold text-dark mb-1" data-i18n="form_phone">Телефон</label>
              <input name="phone" required class="input" placeholder="+998..." data-i18n-placeholder="ph_phone" />
            </div>
            <div>
              <label class="block text-sm font-semibold text-dark mb-1" data-i18n="form_tg">Telegram</label>
              <input name="tg_username" required class="input" placeholder="@username" data-i18n-placeholder="ph_tg" />
            </div>
            <div>
              <label class="block text-sm font-semibold text-dark mb-1" data-i18n="form_course">Курс</label>
              <select name="course" class="input" id="course-select">
                <option value="" data-i18n="ph_course">Название или выберите ниже</option>
              </select>
            </div>
            <button class="btn-primary w-full" type="submit" data-i18n="form_submit">Отправить</button>
            <div id="application-status" class="text-xs text-slate-500"></div>
          </form>
        </div>
      </div>
    </section>
  </main>

  <script type="module" src="./main.js"></script>
  <script>
    const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

let config = {
    gridSize: 70, // Размер ячеек (сделай больше/меньше здесь)
    shapeScale: 1.4,
    blueColor: '#001bb1',
    lineColorInside: 'rgba(255, 255, 255, 0.4)',
    chaosFactor: 25 // Сила искажения ячеек
};

let nodes = [];
let rows, cols;
let isHovered = false;

function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    
    config.shapeScale = canvas.width < 600 ? 0.8 : canvas.width < 768 ? 1 : 1.4;
    config.gridSize =  canvas.width < 600 ? 60 : canvas.width < 768 ? 50 : 70;

    cols = Math.ceil(canvas.width / config.gridSize) + 1;
    rows = Math.ceil(canvas.height / config.gridSize) + 1;
    
    initNodes();
}

function initNodes() {
    nodes = [];
    for (let y = 0; y < rows; y++) {
        nodes[y] = [];
        for (let x = 0; x < cols; x++) {
            nodes[y][x] = {
                baseX: x * config.gridSize,
                baseY: y * config.gridSize,
                offsetX: (Math.random() - 0.5) * config.chaosFactor * 2,
                offsetY: (Math.random() - 0.5) * config.chaosFactor * 2,
                currX: 0,
                currY: 0,
                // Новые параметры для плавной анимации:
                angle: Math.random() * Math.PI * 2, // Случайная начальная фаза
                speed: 0.02 + Math.random() * 0.03  // Скорость покачивания
            };
            nodes[y][x].currX = nodes[y][x].baseX + nodes[y][x].offsetX;
            nodes[y][x].currY = nodes[y][x].baseY + nodes[y][x].offsetY;
        }
    }
}

function defineShapePath(context) {
    const s = config.shapeScale;
    const isMobile = canvas.width < 768;
    const ox = isMobile ? (canvas.width - 600 * s) / 2 : (canvas.width - 600 * s) * 0.85;
    const oy = (canvas.height - 450 * s) / 2;
    const r = 45 * s;

    context.beginPath();
    context.moveTo(ox + 40*s + r, oy + 40*s);
    context.lineTo(ox + 350*s - r, oy + 40*s);
    context.quadraticCurveTo(ox + 350*s, oy + 40*s, ox + 350*s, oy + 40*s + r);
    context.lineTo(ox + 350*s, oy + 180*s - r);
    context.quadraticCurveTo(ox + 350*s, oy + 180*s, ox + 350*s + r, oy + 180*s);
    context.lineTo(ox + 600*s - r, oy + 180*s);
    context.quadraticCurveTo(ox + 600*s, oy + 180*s, ox + 600*s, oy + 180*s + r);
    context.lineTo(ox + 600*s, oy + 450*s - r);
    context.quadraticCurveTo(ox + 600*s, oy + 450*s, ox + 600*s - r, oy + 450*s);
    context.lineTo(ox + 250*s + r, oy + 450*s);
    context.quadraticCurveTo(ox + 250*s, oy + 450*s, ox + 250*s, oy + 450*s - r);
    context.lineTo(ox + 250*s, oy + 320*s + r);
    context.quadraticCurveTo(ox + 250*s, oy + 320*s, ox + 250*s - r, oy + 320*s);
    context.lineTo(ox + 40*s + r, oy + 320*s);
    context.quadraticCurveTo(ox + 40*s, oy + 320*s, ox + 40*s, oy + 320*s - r);
    context.lineTo(ox + 40*s, oy + 40*s + r);
    context.quadraticCurveTo(ox + 40*s, oy + 40*s, ox + 40*s + r, oy + 40*s);
    context.closePath();
}

function updateNodes() {
    for (let y = 0; y < rows; y++) {
        for (let x = 0; x < cols; x++) {
            let n = nodes[y][x];
            let targetX, targetY;

            if (isHovered) {
                // ПРИ НАВЕДЕНИИ: Строго в сетку
                targetX = n.baseX;
                targetY = n.baseY;
            } else {
                // В ПОКОЕ: "Дышащий" хаос
                n.angle += n.speed; // Увеличиваем угол для движения
                
                // Добавляем небольшое волновое движение к изначальному смещению
                const waveX = Math.cos(n.angle) * 10; 
                const waveY = Math.sin(n.angle) * 10;
                
                targetX = n.baseX + n.offsetX + waveX;
                targetY = n.baseY + n.offsetY + waveY;
            }

            // Плавность перехода (0.1 - мягко, 0.2 - быстрее)
            n.currX += (targetX - n.currX) * 0.1;
            n.currY += (targetY - n.currY) * 0.1;
        }
    }
}

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // 1. Синяя форма
    defineShapePath(ctx);
    ctx.fillStyle = config.blueColor;
    ctx.fill();

    // 2. Обрезка и рисование сетки
    ctx.save();
    defineShapePath(ctx);
    ctx.clip();

    ctx.strokeStyle = config.lineColorInside;
    ctx.lineWidth = 1.2;

    for (let y = 0; y < rows; y++) {
        for (let x = 0; x < cols; x++) {
            let n = nodes[y][x];

            // Линия вправо
            if (x < cols - 1) {
                ctx.beginPath();
                ctx.moveTo(n.currX, n.currY);
                ctx.lineTo(nodes[y][x+1].currX, nodes[y][x+1].currY);
                ctx.stroke();
            }
            // Линия вниз
            if (y < rows - 1) {
                ctx.beginPath();
                ctx.moveTo(n.currX, n.currY);
                ctx.lineTo(nodes[y+1][x].currX, nodes[y+1][x].currY);
                ctx.stroke();
            }
        }
    }
    ctx.restore();
}

function animate() {
    updateNodes();
    draw();
    requestAnimationFrame(animate);
}

// --- ИЗМЕНЕННЫЙ БЛОК СОБЫТИЙ ---

window.addEventListener('mousemove', (e) => {
    defineShapePath(ctx); 
    if (ctx.isPointInPath(e.clientX, e.clientY)) {
        isHovered = true;
    } else {
        isHovered = false;
    }
});

// Для мобильных устройств (проверка по первому касанию)
window.addEventListener('touchstart', (e) => {
    const touch = e.touches[0];
    defineShapePath(ctx);
    if (ctx.isPointInPath(touch.clientX, touch.clientY)) {
        isHovered = true;
    }
});

window.addEventListener('touchend', () => {
    isHovered = false;
});

window.addEventListener('mouseleave', () => {
    isHovered = false;
});

// Запуск
window.addEventListener('resize', resize);
resize();
animate();

window.addEventListener('scroll', () => {
    const mainElement = document.querySelector('.main');
    const text = document.querySelector('.container h1');
    const vh100 = window.innerHeight; // Высота экрана (100vh)
    const scrollTop = window.scrollY; // Текущая прокрутка
    text.style.top = `${scrollTop * .5}px`;
    let fraction = Math.min(scrollTop / vh100, 1);

    // Начальный цвет: белый (255, 255, 255)
    // Целевой цвет: #001bb1 -> rgb(0, 27, 177)
    
    const r = Math.floor(255 - (255 - 0) * fraction);
    const g = Math.floor(255 - (255 - 27) * fraction);
    const b = Math.floor(255 - (255 - 177) * fraction);

    const color = `rgb(${r}, ${g}, ${b})`;
    
    mainElement.style.backgroundColor = color;
});
  </script>
</body>
</html>
